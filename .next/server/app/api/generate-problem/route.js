"use strict";(()=>{var e={};e.id=73,e.ids=[73],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},7328:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>x,originalPathname:()=>I,patchFetch:()=>w,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>b,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>f});var a={};r.r(a),r.d(a,{POST:()=>c});var o=r(5419),n=r(9108),s=r(9678),i=r(8070),l=r(2964),p=r(973);let u=(0,l.eI)("https://fwqgpzfxywhpurfszefr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ3cWdwemZ4eXdocHVyZnN6ZWZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MTgxNDYsImV4cCI6MjA3NTE5NDE0Nn0.b3-o9Wv1vY4EiLF1HTaWZ8jJ9jLq10nDkM2DyuOJaBk"),m=new p.$D(process.env.GOOGLE_API_KEY);async function c(){try{let e=m.getGenerativeModel({model:"gemini-2.5-flash"}),t=["angles on a straight line","angles at a point","vertically opposite angles","isosceles triangle","equilateral triangle","right-angled triangle","parallelogram","rhombus","trapezium"],r=t[Math.floor(Math.random()*t.length)],a=`
    You are a math teacher for 13-year-old students.
    Create one geometry question about "${r}".
    The problem should be realistic, clearly described, and solvable with integer answers.
    Return ONLY raw JSON:
    {
      "problem_text": "the question text",
      "final_answer": number
    }
    `,o=(await e.generateContent(a)).response.text();o=o.replace(/```json|```/g,"").trim();let n=JSON.parse(o),{data:s,error:l}=await u.from("math_problem_sessions").insert({problem_text:n.problem_text,final_answer:n.final_answer}).select().single();if(l)throw l;return i.Z.json({session:s})}catch(e){return console.error(e),i.Z.json({error:"Failed to generate problem"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/generate-problem/route",pathname:"/api/generate-problem",filename:"route",bundlePath:"app/api/generate-problem/route"},resolvedPagePath:"C:\\Users\\badrulamin\\OneDrive\\Desktop\\ottodot\\ottodot-coding-task-full-stack\\app\\api\\generate-problem\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:g,staticGenerationAsyncStorage:h,serverHooks:b,headerHooks:x,staticGenerationBailout:f}=d,I="/api/generate-problem/route";function w(){return(0,s.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:h})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,709],()=>r(7328));module.exports=a})();